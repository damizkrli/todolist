{% extends 'base.html.twig' %}

{% block title %}Task index{% endblock %}

{% block body %}

    <div class="container mt-3">
        <div class="row">
            <div class="col-8">
                <h1>My tasks</h1>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Category</th>
                        <th>LimitDate</th>
                        <th>CreatedAt</th>
                        <th>UpdatedAt</th>
                        <th>actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for task in tasks %}
                        <tr>
                            <td>{{ task.id }}</td>
                            <td>{{ task.name }}</td>
                            <td>{{ task.description }}</td>
                            <td>{{ task.category }}</td>
                            <td>{{ task.limitDate ? task.limitDate|date('d-m-Y') : '' }}</td>
                            <td>{{ task.createdAt ? task.createdAt|date('d-m-Y') : '' }}</td>
                            <td>{{ task.updatedAt ? task.updatedAt|date('d-m-Y') : '' }}</td>
                            <td>
                                <a href="{{ path('app_task_show', {'id': task.id}) }}">show</a>
                                <a href="{{ path('app_task_edit', {'id': task.id}) }}">edit</a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="8">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-4">
                <h1>New Task</h1>

                {{ form_start(form) }}
                {{ form_widget(form) }}

                <div class="d-flex align-item-center justify-content-center">
                    <button class="btn btn-success me-5">{{ button_label|default('Save') }}</button>

                    <a class="btn btn-danger" href="{{ path('app_task_index') }}">back to list</a>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
